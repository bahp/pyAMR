

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ASAI - Multiple (by specimen) &mdash; pyamr 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ASAI - Timeseries" href="plot_spectrum_temporal.html" />
    <link rel="prev" title="ASAI - Gram stain (by specimen)" href="plot_spectrum_gramtype.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pyamr
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/registries.html">Registries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/todo.html">Future Actions</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Galleries</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples with indexes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="plot_sari_antibiogram.html">SARI - Antibiogram (by specimen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_sari_clustermap.html">SARI - Clustermap (by specimen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_sari_relmap.html">SARI - Relplot (by specimen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_sari_temporal.html">SARI - Timeseries</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_spectrum_gramtype.html">ASAI - Gram stain (by specimen)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ASAI - Multiple (by specimen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_spectrum_temporal.html">ASAI - Timeseries</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_wls_basic.html">SART - Slope of WLS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../forecasting/index.html">Examples with TSA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reports/index.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">Visualization</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../_apidoc/modules.html">pyamr</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyamr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Examples with indexes</a> &raquo;</li>
        
      <li>ASAI - Multiple (by specimen)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/_examples/indexes/plot_spectrum_multiple.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-indexes-plot-spectrum-multiple-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="asai-multiple-by-specimen">
<span id="sphx-glr-examples-indexes-plot-spectrum-multiple-py"></span><h1>ASAI - Multiple (by specimen)<a class="headerlink" href="#asai-multiple-by-specimen" title="Permalink to this headline">Â¶</a></h1>
<ul class="sphx-glr-horizontal">
<li><img alt="Gram-positive, Gram-negative, Gram-unknown" class="sphx-glr-multi-img" src="../../_images/sphx_glr_plot_spectrum_multiple_001.png" />
</li>
<li><img alt="Gram-positive, Gram-negative, Gram-unknown" class="sphx-glr-multi-img" src="../../_images/sphx_glr_plot_spectrum_multiple_002.png" />
</li>
<li><img alt="Gram-positive, Gram-negative, Gram-unknown" class="sphx-glr-multi-img" src="../../_images/sphx_glr_plot_spectrum_multiple_003.png" />
</li>
<li><img alt="Gram-positive, Gram-negative, Gram-unknown" class="sphx-glr-multi-img" src="../../_images/sphx_glr_plot_spectrum_multiple_004.png" />
</li>
<li><img alt="Gram-positive, Gram-negative, Gram-unknown" class="sphx-glr-multi-img" src="../../_images/sphx_glr_plot_spectrum_multiple_005.png" />
</li>
</ul>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Data:
       date_received  date_outcome  patient_id laboratory_number specimen_code  specimen_name  ... antimicrobial_code antimicrobial_name sensitivity_method sensitivity mic  reported
0         2009-01-03           NaN       20091           X428501        BLDCUL            NaN  ...               AAMI           amikacin                NaN   sensitive NaN       NaN
1         2009-01-03           NaN       20091           X428501        BLDCUL            NaN  ...               AAMO        amoxycillin                NaN   resistant NaN       NaN
2         2009-01-03           NaN       20091           X428501        BLDCUL            NaN  ...               AAUG          augmentin                NaN   sensitive NaN       NaN
3         2009-01-03           NaN       20091           X428501        BLDCUL            NaN  ...               AAZT          aztreonam                NaN   sensitive NaN       NaN
4         2009-01-03           NaN       20091           X428501        BLDCUL            NaN  ...               ACAZ        ceftazidime                NaN   sensitive NaN       NaN
...              ...           ...         ...               ...           ...            ...  ...                ...                ...                ...         ...  ..       ...
319117    2009-12-31           NaN       24645          H2012337        BLDCUL            NaN  ...               AAMO        amoxycillin                NaN   sensitive NaN       NaN
319118    2009-12-31           NaN       24645          H2012337        BLDCUL            NaN  ...               ALIN          linezolid                NaN   sensitive NaN       NaN
319119    2009-12-31           NaN       24645          H2012337        BLDCUL            NaN  ...               ASYN           synercid                NaN   resistant NaN       NaN
319120    2009-12-31           NaN       24645          H2012337        BLDCUL            NaN  ...               ATEI        teicoplanin                NaN   sensitive NaN       NaN
319121    2009-12-31           NaN       24645          H2012337        BLDCUL            NaN  ...               AVAN         vancomycin                NaN   sensitive NaN       NaN

[319122 rows x 15 columns]

Columns:
Index([&#39;date_received&#39;, &#39;date_outcome&#39;, &#39;patient_id&#39;, &#39;laboratory_number&#39;, &#39;specimen_code&#39;, &#39;specimen_name&#39;, &#39;specimen_description&#39;, &#39;microorganism_code&#39;, &#39;microorganism_name&#39;, &#39;antimicrobial_code&#39;, &#39;antimicrobial_name&#39;, &#39;sensitivity_method&#39;, &#39;sensitivity&#39;, &#39;mic&#39;, &#39;reported&#39;], dtype=&#39;object&#39;)
SARI (overall):
sensitivity                                                             intermediate  resistant  sensitive  freq    sari
specimen_code microorganism_name                    antimicrobial_name
BFLCUL        anaerobes                             metronidazole                0.0        0.0        1.0   1.0  0.0000
              bacillus                              ciprofloxacin                0.0        0.0        1.0   1.0  0.0000
                                                    clindamycin                  0.0        3.0        1.0   4.0  0.7500
                                                    erythromycin                 0.0        1.0        3.0   4.0  0.2500
                                                    fusidic acid                 0.0        3.0        1.0   4.0  0.7500
...                                                                              ...        ...        ...   ...     ...
XINCUL        streptococcus beta-haemolytic group b cephalexin                   0.0        1.0        0.0   1.0  1.0000
                                                    clindamycin                  0.0        1.0        8.0   9.0  0.1111
                                                    erythromycin                 0.0        1.0        8.0   9.0  0.1111
                                                    penicillin                   0.0        0.0        9.0   9.0  0.0000
                                                    tetracycline                 0.0        8.0        1.0   9.0  0.8889

[4491 rows x 5 columns]
c:\users\kelda\desktop\repositories\github\pyamr\main\pyamr\core\asai.py:527: UserWarning:


                 Extreme resistances were found in the DataFrame. These rows
                 should be reviewed since these resistances might correspond
                 to pairs with low number of records.


c:\users\kelda\desktop\repositories\github\pyamr\main\pyamr\core\asai.py:538: UserWarning:


                 There are NULL values in columns that are required. These
                 rows will be ignored to safely compute ASAI. Please review
                 the DataFrame and address this inconsistencies. See below
                 for more information:

                        specimen_code            0
                        antimicrobial_name       0
                        gram_stain               0
                        GENUS                    0
                        SPECIE                2414
                        RESISTANCE               0



ASAI (overall):
                                 N_GENUS          N_SPECIE          ASAI_SCORE          width   gmean
gram_stain                             n    p   u        n    p   u          n    p   u
specimen_code antimicrobial_name
BFLCUL        amoxycillin            1.0  NaN NaN      1.0  NaN NaN        1.0  NaN NaN   1.0  1.0000
              cefixime               1.0  NaN NaN      1.0  NaN NaN        1.0  NaN NaN   1.0  1.0000
              cefotaxime             1.0  1.0 NaN      1.0  1.0 NaN        1.0  1.0 NaN   2.0  1.0000
              ceftriaxone            1.0  NaN NaN      1.0  NaN NaN        1.0  NaN NaN   1.0  1.0000
              chloramphenicol        1.0  1.0 NaN      1.0  1.0 NaN        1.0  1.0 NaN   2.0  1.0000
...                                  ...  ...  ..      ...  ...  ..        ...  ...  ..   ...     ...
XINCUL        tetracycline           NaN  2.0 NaN      NaN  2.0 NaN        NaN  0.5 NaN   0.5  0.7071
              timentin               4.0  NaN NaN      4.0  NaN NaN        0.0  NaN NaN   0.0  0.0000
              tobramycin             4.0  NaN NaN      4.0  NaN NaN        0.5  NaN NaN   0.5  0.7071
              trimethoprim           NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN   1.0  1.0000
              vancomycin             NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN   1.0  1.0000

[600 rows x 11 columns]

Cultures:
specimen_code
URICUL    116627.0
WOUCUL     94918.0
XINCUL     21427.0
SPTCUL     21113.0
BLDCUL     20333.0
ENTCUL     13110.0
T&amp;FCUL      8150.0
MRSCUL      7865.0
VAGCUL      7425.0
EYECUL      2839.0
GUMCUL      1634.0
FAECUL      1317.0
URECUL       802.0
TISCUL       474.0
BFLCUL       450.0
SEMCUL       290.0
NEOCUL       213.0
PDFCUL        68.0
CSFCUL        32.0
RGNS          20.0
FUNSTC        14.0
TBCUL          1.0
Name: freq, dtype: float64


ASAI (BLDCUL)
           specimen_code antimicrobial_name N_GENUS           N_SPECIE            ASAI_SCORE                width   gmean
gram_stain                                        n    p    u        n     p    u          n       p    u
45                BLDCUL         gentamicin     9.0  3.0  1.0      9.0   4.0  1.0     0.8889  1.0000  1.0  2.8889  0.9428
23                BLDCUL           amikacin     7.0  1.0  1.0      7.0   1.0  1.0     0.8571  1.0000  1.0  2.8571  0.9258
35                BLDCUL      ciprofloxacin    11.0  2.0  1.0     11.0   3.0  1.0     0.9091  0.2500  1.0  2.1591  0.4767
46                BLDCUL           imipenem     8.0  NaN  1.0      8.0   NaN  1.0     1.0000     NaN  1.0  2.0000  1.0000
32                BLDCUL        ceftriaxone     2.0  2.0  NaN      2.0   8.0  NaN     1.0000  1.0000  NaN  2.0000  1.0000
49                BLDCUL          meropenem     8.0  NaN  1.0      8.0   NaN  1.0     1.0000     NaN  1.0  2.0000  1.0000
58                BLDCUL            tazocin     8.0  NaN  1.0      8.0   NaN  1.0     1.0000     NaN  1.0  2.0000  1.0000
55                BLDCUL         rifampicin     1.0  2.0  NaN      1.0   3.0  NaN     1.0000  1.0000  NaN  2.0000  1.0000
61                BLDCUL       tetracycline     2.0  3.0  NaN      2.0  10.0  NaN     1.0000  0.9524  NaN  1.9524  0.9759
62                BLDCUL           timentin     6.0  NaN  1.0      6.0   NaN  1.0     0.8333     NaN  1.0  1.8333  0.9129
26                BLDCUL          augmentin     9.0  NaN  1.0      9.0   NaN  1.0     0.7778     NaN  1.0  1.7778  0.8819
28                BLDCUL         cefotaxime     9.0  2.0  1.0      9.0   8.0  1.0     0.6667  1.0000  0.0  1.6667  0.0000
39                BLDCUL      cotrimoxazole     7.0  NaN  1.0      7.0   NaN  1.0     0.5714     NaN  1.0  1.5714  0.7559
33                BLDCUL         cefuroxime     9.0  1.0  1.0      9.0   2.0  1.0     0.5556  1.0000  0.0  1.5556  0.0000
63                BLDCUL         tobramycin     6.0  NaN  1.0      6.0   NaN  1.0     0.5000     NaN  1.0  1.5000  0.7071
25                BLDCUL      amp c markers     3.0  NaN  1.0      3.0   NaN  1.0     0.3333     NaN  1.0  1.3333  0.5774
24                BLDCUL        amoxycillin     9.0  3.0  1.0      9.0   9.0  1.0     0.2222  1.0000  0.0  1.2222  0.0000
52                BLDCUL          mupirocin     NaN  1.0  NaN      NaN   2.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
51                BLDCUL       moxifloxacin     NaN  1.0  NaN      NaN   1.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
57                BLDCUL           synercid     NaN  1.0  NaN      NaN   1.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
53                BLDCUL          oxacillin     NaN  1.0  NaN      NaN   3.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
56                BLDCUL  sulphamethoxazole     1.0  NaN  NaN      1.0   NaN  NaN     1.0000     NaN  NaN  1.0000  1.0000
34                BLDCUL    chloramphenicol     2.0  NaN  NaN      2.0   NaN  NaN     1.0000     NaN  NaN  1.0000  1.0000
59                BLDCUL        teicoplanin     NaN  3.0  NaN      NaN  10.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
47                BLDCUL       levofloxacin     NaN  1.0  NaN      NaN   1.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
65                BLDCUL         vancomycin     NaN  4.0  NaN      NaN  11.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
48                BLDCUL          linezolid     NaN  3.0  NaN      NaN   5.0  NaN        NaN  1.0000  NaN  1.0000  1.0000
41                BLDCUL       erythromycin     1.0  4.0  NaN      1.0  11.0  NaN     0.0000  0.8750  NaN  0.8750  0.0000
40                BLDCUL          ertapenem     5.0  NaN  NaN      5.0   NaN  NaN     0.8000     NaN  NaN  0.8000  0.8944
43                BLDCUL     flucloxacillin     NaN  2.0  NaN      NaN   3.0  NaN        NaN  0.7500  NaN  0.7500  0.8660
60                BLDCUL         temocillin     4.0  NaN  NaN      4.0   NaN  NaN     0.7500     NaN  NaN  0.7500  0.8660
31                BLDCUL        ceftazidime     8.0  NaN  1.0      8.0   NaN  1.0     0.7500     NaN  0.0  0.7500  0.0000
37                BLDCUL        clindamycin     NaN  2.0  NaN      NaN   7.0  NaN        NaN  0.7500  NaN  0.7500  0.8660
54                BLDCUL         penicillin     1.0  4.0  NaN      1.0  11.0  NaN     0.0000  0.7500  NaN  0.7500  0.0000
38                BLDCUL  colistin sulphate     7.0  NaN  1.0      7.0   NaN  1.0     0.7143     NaN  0.0  0.7143  0.0000
27                BLDCUL          aztreonam     6.0  NaN  NaN      6.0   NaN  NaN     0.6667     NaN  NaN  0.6667  0.8165
30                BLDCUL        cefpodoxime     7.0  NaN  1.0      7.0   NaN  1.0     0.5714     NaN  0.0  0.5714  0.0000
36                BLDCUL     clarithromycin     2.0  NaN  NaN      2.0   NaN  NaN     0.5000     NaN  NaN  0.5000  0.7071
64                BLDCUL       trimethoprim     NaN  1.0  NaN      NaN   2.0  NaN        NaN  0.5000  NaN  0.5000  0.7071
44                BLDCUL       fusidic acid     NaN  1.0  NaN      NaN   2.0  NaN        NaN  0.5000  NaN  0.5000  0.7071
29                BLDCUL          cefoxitin     7.0  NaN  1.0      7.0   NaN  1.0     0.4286     NaN  0.0  0.4286  0.0000
50                BLDCUL        mls markers     NaN  2.0  NaN      NaN   4.0  NaN        NaN  0.0000  NaN  0.0000  0.0000
42                BLDCUL       esbl markers     2.0  NaN  1.0      2.0   NaN  1.0     0.0000     NaN  0.0  0.0000  0.0000


ASAI (SPTCUL)
           specimen_code antimicrobial_name N_GENUS          N_SPECIE          ASAI_SCORE               width   gmean
gram_stain                                        n    p   u        n    p   u          n       p   u
297               SPTCUL         cefotaxime     8.0  1.0 NaN      8.0  1.0 NaN     0.7500  1.0000 NaN  1.7500  0.8660
302               SPTCUL         cefuroxime     8.0  1.0 NaN      8.0  1.0 NaN     0.7500  1.0000 NaN  1.7500  0.8660
318               SPTCUL          meropenem     7.0  1.0 NaN      7.0  1.0 NaN     0.7143  1.0000 NaN  1.7143  0.8452
314               SPTCUL         gentamicin     7.0  2.0 NaN      7.0  3.0 NaN     0.7143  1.0000 NaN  1.7143  0.8452
328               SPTCUL       tetracycline     2.0  3.0 NaN      2.0  7.0 NaN     1.0000  0.5000 NaN  1.5000  0.7071
292               SPTCUL        amoxycillin     8.0  1.0 NaN      8.0  1.0 NaN     0.2500  1.0000 NaN  1.2500  0.5000
304               SPTCUL      ciprofloxacin     9.0  3.0 NaN      9.0  4.0 NaN     0.6667  0.5000 NaN  1.1667  0.5774
322               SPTCUL          oxacillin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
321               SPTCUL          mupirocin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
320               SPTCUL       moxifloxacin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
310               SPTCUL       erythromycin     2.0  3.0 NaN      2.0  7.0 NaN     0.5000  0.5000 NaN  1.0000  0.5000
301               SPTCUL        ceftriaxone     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
303               SPTCUL    chloramphenicol     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
317               SPTCUL          linezolid     NaN  3.0 NaN      NaN  4.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
316               SPTCUL       levofloxacin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
326               SPTCUL        teicoplanin     NaN  2.0 NaN      NaN  2.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
332               SPTCUL         vancomycin     NaN  3.0 NaN      NaN  4.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
325               SPTCUL            tazocin     7.0  NaN NaN      7.0  NaN NaN     0.8571     NaN NaN  0.8571  0.9258
291               SPTCUL           amikacin     7.0  NaN NaN      7.0  NaN NaN     0.8571     NaN NaN  0.8571  0.9258
300               SPTCUL        ceftazidime     7.0  NaN NaN      7.0  NaN NaN     0.8571     NaN NaN  0.8571  0.9258
306               SPTCUL        clindamycin     NaN  3.0 NaN      NaN  5.0 NaN        NaN  0.8333 NaN  0.8333  0.9129
324               SPTCUL         rifampicin     NaN  3.0 NaN      NaN  4.0 NaN        NaN  0.8333 NaN  0.8333  0.9129
331               SPTCUL       trimethoprim     NaN  2.0 NaN      NaN  3.0 NaN        NaN  0.7500 NaN  0.7500  0.8660
307               SPTCUL  colistin sulphate     7.0  NaN NaN      7.0  NaN NaN     0.7143     NaN NaN  0.7143  0.8452
315               SPTCUL           imipenem     7.0  NaN NaN      7.0  NaN NaN     0.7143     NaN NaN  0.7143  0.8452
298               SPTCUL          cefoxitin     6.0  NaN NaN      6.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
323               SPTCUL         penicillin     NaN  3.0 NaN      NaN  7.0 NaN        NaN  0.6667 NaN  0.6667  0.8165
308               SPTCUL      cotrimoxazole     6.0  1.0 NaN      6.0  1.0 NaN     0.6667  0.0000 NaN  0.6667  0.0000
330               SPTCUL         tobramycin     6.0  NaN NaN      6.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
299               SPTCUL        cefpodoxime     6.0  NaN NaN      6.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
294               SPTCUL          augmentin     8.0  NaN NaN      8.0  NaN NaN     0.5000     NaN NaN  0.5000  0.7071
312               SPTCUL     flucloxacillin     NaN  1.0 NaN      NaN  2.0 NaN        NaN  0.5000 NaN  0.5000  0.7071
296               SPTCUL          aztreonam     4.0  NaN NaN      4.0  NaN NaN     0.5000     NaN NaN  0.5000  0.7071
305               SPTCUL     clarithromycin     2.0  NaN NaN      2.0  NaN NaN     0.5000     NaN NaN  0.5000  0.7071
313               SPTCUL       fusidic acid     NaN  2.0 NaN      NaN  3.0 NaN        NaN  0.5000 NaN  0.5000  0.7071
329               SPTCUL           timentin     7.0  NaN NaN      7.0  NaN NaN     0.4286     NaN NaN  0.4286  0.6547
327               SPTCUL         temocillin     3.0  NaN NaN      3.0  NaN NaN     0.3333     NaN NaN  0.3333  0.5774
309               SPTCUL          ertapenem     3.0  NaN NaN      3.0  NaN NaN     0.3333     NaN NaN  0.3333  0.5774
311               SPTCUL       esbl markers     1.0  NaN NaN      1.0  NaN NaN     0.0000     NaN NaN  0.0000  0.0000
295               SPTCUL       azithromycin     1.0  1.0 NaN      1.0  1.0 NaN     0.0000  0.0000 NaN  0.0000  0.0000
319               SPTCUL        mls markers     NaN  2.0 NaN      NaN  2.0 NaN        NaN  0.0000 NaN  0.0000  0.0000
293               SPTCUL      amp c markers     1.0  NaN NaN      1.0  NaN NaN     0.0000     NaN NaN  0.0000  0.0000


ASAI (URICUL)
           specimen_code antimicrobial_name N_GENUS          N_SPECIE          ASAI_SCORE               width   gmean
gram_stain                                        n    p   u        n    p   u          n       p   u
478               URICUL       tetracycline     1.0  2.0 NaN      1.0  6.0 NaN     1.0000  0.8333 NaN  1.8333  0.9129
453               URICUL      ciprofloxacin     6.0  2.0 NaN      6.0  7.0 NaN     0.8333  1.0000 NaN  1.8333  0.9129
462               URICUL         gentamicin     5.0  1.0 NaN      5.0  3.0 NaN     0.8000  1.0000 NaN  1.8000  0.8944
443               URICUL        amoxycillin     2.0  2.0 NaN      2.0  7.0 NaN     0.5000  0.8333 NaN  1.3333  0.6455
449               URICUL        cefpodoxime     5.0  2.0 NaN      5.0  5.0 NaN     0.4000  0.8333 NaN  1.2333  0.5774
481               URICUL       trimethoprim     5.0  2.0 NaN      5.0  7.0 NaN     0.2000  1.0000 NaN  1.2000  0.4472
445               URICUL          augmentin     5.0  2.0 NaN      5.0  7.0 NaN     0.2000  1.0000 NaN  1.2000  0.4472
470               URICUL     nitrofurantoin     5.0  2.0 NaN      5.0  7.0 NaN     0.2000  1.0000 NaN  1.2000  0.4472
452               URICUL         cephalexin     5.0  2.0 NaN      5.0  7.0 NaN     0.2000  0.8750 NaN  1.0750  0.4183
460               URICUL     flucloxacillin     1.0  1.0 NaN      1.0  3.0 NaN     0.0000  1.0000 NaN  1.0000  0.0000
476               URICUL        teicoplanin     NaN  2.0 NaN      NaN  7.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
475               URICUL            tazocin     5.0  NaN NaN      5.0  NaN NaN     1.0000     NaN NaN  1.0000  1.0000
473               URICUL         rifampicin     NaN  1.0 NaN      NaN  3.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
469               URICUL     naladixic acid     1.0  NaN NaN      1.0  NaN NaN     1.0000     NaN NaN  1.0000  1.0000
468               URICUL          mupirocin     NaN  1.0 NaN      NaN  2.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
464               URICUL          linezolid     NaN  1.0 NaN      NaN  3.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
442               URICUL           amikacin     5.0  NaN NaN      5.0  NaN NaN     1.0000     NaN NaN  1.0000  1.0000
482               URICUL         vancomycin     NaN  2.0 NaN      NaN  7.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
454               URICUL        clindamycin     NaN  2.0 NaN      NaN  4.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
458               URICUL       erythromycin     NaN  2.0 NaN      NaN  6.0 NaN        NaN  0.8333 NaN  0.8333  0.9129
455               URICUL  colistin sulphate     5.0  NaN NaN      5.0  NaN NaN     0.8000     NaN NaN  0.8000  0.8944
463               URICUL           imipenem     5.0  NaN NaN      5.0  NaN NaN     0.8000     NaN NaN  0.8000  0.8944
479               URICUL           timentin     4.0  NaN NaN      4.0  NaN NaN     0.7500     NaN NaN  0.7500  0.8660
446               URICUL          aztreonam     3.0  NaN NaN      3.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
477               URICUL         temocillin     3.0  NaN NaN      3.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
471               URICUL         novobiocin     1.0  1.0 NaN      1.0  3.0 NaN     0.0000  0.6667 NaN  0.6667  0.0000
456               URICUL      cotrimoxazole     3.0  NaN NaN      3.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
457               URICUL          ertapenem     3.0  NaN NaN      3.0  NaN NaN     0.6667     NaN NaN  0.6667  0.8165
461               URICUL       fusidic acid     NaN  1.0 NaN      NaN  3.0 NaN        NaN  0.6667 NaN  0.6667  0.8165
466               URICUL          meropenem     5.0  NaN NaN      5.0  NaN NaN     0.6000     NaN NaN  0.6000  0.7746
450               URICUL        ceftazidime     5.0  NaN NaN      5.0  NaN NaN     0.6000     NaN NaN  0.6000  0.7746
480               URICUL         tobramycin     5.0  NaN NaN      5.0  NaN NaN     0.6000     NaN NaN  0.6000  0.7746
472               URICUL         penicillin     1.0  2.0 NaN      1.0  6.0 NaN     0.0000  0.5000 NaN  0.5000  0.0000
474               URICUL  sulphamethoxazole     2.0  NaN NaN      2.0  NaN NaN     0.5000     NaN NaN  0.5000  0.7071
465               URICUL         mecillinam     5.0  NaN NaN      5.0  NaN NaN     0.4000     NaN NaN  0.4000  0.6325
448               URICUL          cefoxitin     5.0  NaN NaN      5.0  NaN NaN     0.4000     NaN NaN  0.4000  0.6325
467               URICUL        mls markers     NaN  1.0 NaN      NaN  3.0 NaN        NaN  0.3333 NaN  0.3333  0.5774
444               URICUL      amp c markers     4.0  NaN NaN      4.0  NaN NaN     0.2500     NaN NaN  0.2500  0.5000
447               URICUL         cefotaxime     5.0  NaN NaN      5.0  NaN NaN     0.2000     NaN NaN  0.2000  0.4472
459               URICUL       esbl markers     5.0  NaN NaN      5.0  NaN NaN     0.2000     NaN NaN  0.2000  0.4472
451               URICUL         cefuroxime     5.0  NaN NaN      5.0  NaN NaN     0.0000     NaN NaN  0.0000  0.0000


ASAI (WOUCUL)
           specimen_code antimicrobial_name N_GENUS          N_SPECIE           ASAI_SCORE               width   gmean
gram_stain                                        n    p   u        n     p   u          n       p   u
531               WOUCUL        ceftriaxone     1.0  1.0 NaN      1.0   1.0 NaN     1.0000  1.0000 NaN  2.0000  1.0000
527               WOUCUL         cefotaxime     7.0  1.0 NaN      7.0   2.0 NaN     0.5714  1.0000 NaN  1.5714  0.7559
545               WOUCUL         gentamicin     8.0  1.0 NaN      8.0   2.0 NaN     1.0000  0.5000 NaN  1.5000  0.7071
523               WOUCUL        amoxycillin     8.0  1.0 NaN      8.0   3.0 NaN     0.3750  1.0000 NaN  1.3750  0.6124
532               WOUCUL         cefuroxime     7.0  1.0 NaN      7.0   1.0 NaN     0.2857  1.0000 NaN  1.2857  0.5345
535               WOUCUL      ciprofloxacin     9.0  2.0 NaN     10.0   5.0 NaN     0.6667  0.4167 NaN  1.0833  0.5270
556               WOUCUL         temocillin     3.0  NaN NaN      3.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
555               WOUCUL        teicoplanin     NaN  2.0 NaN      NaN   8.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
553               WOUCUL         rifampicin     NaN  2.0 NaN      NaN   4.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
551               WOUCUL          oxacillin     NaN  1.0 NaN      NaN   2.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
558               WOUCUL        tigecycline     1.0  NaN NaN      1.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
560               WOUCUL         tobramycin     5.0  NaN NaN      5.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
533               WOUCUL         cephalexin     NaN  1.0 NaN      NaN   2.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
550               WOUCUL          mupirocin     NaN  1.0 NaN      NaN   2.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
548               WOUCUL          meropenem     8.0  NaN NaN      8.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
547               WOUCUL          linezolid     NaN  2.0 NaN      NaN   4.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
546               WOUCUL           imipenem     8.0  NaN NaN      8.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
539               WOUCUL         daptomycin     NaN  1.0 NaN      NaN   1.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
540               WOUCUL          ertapenem     3.0  NaN NaN      3.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
562               WOUCUL         vancomycin     NaN  2.0 NaN      NaN   8.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
522               WOUCUL           amikacin     6.0  NaN NaN      6.0   NaN NaN     1.0000     NaN NaN  1.0000  1.0000
534               WOUCUL    chloramphenicol     NaN  2.0 NaN      NaN   5.0 NaN        NaN  1.0000 NaN  1.0000  1.0000
557               WOUCUL       tetracycline     1.0  2.0 NaN      2.0  11.0 NaN     0.0000  0.8889 NaN  0.8889  0.0000
554               WOUCUL            tazocin     8.0  NaN NaN      8.0   NaN NaN     0.8750     NaN NaN  0.8750  0.9354
537               WOUCUL  colistin sulphate     6.0  NaN NaN      6.0   NaN NaN     0.8333     NaN NaN  0.8333  0.9129
541               WOUCUL       erythromycin     NaN  2.0 NaN      NaN  11.0 NaN        NaN  0.7500 NaN  0.7500  0.8660
561               WOUCUL       trimethoprim     NaN  2.0 NaN      NaN   4.0 NaN        NaN  0.7500 NaN  0.7500  0.8660
528               WOUCUL          cefoxitin     7.0  1.0 NaN      7.0   1.0 NaN     0.7143  0.0000 NaN  0.7143  0.0000
536               WOUCUL        clindamycin     NaN  2.0 NaN      NaN   9.0 NaN        NaN  0.6786 NaN  0.6786  0.8238
538               WOUCUL      cotrimoxazole     6.0  NaN NaN      6.0   NaN NaN     0.6667     NaN NaN  0.6667  0.8165
526               WOUCUL          aztreonam     5.0  NaN NaN      5.0   NaN NaN     0.6000     NaN NaN  0.6000  0.7746
529               WOUCUL        cefpodoxime     7.0  NaN NaN      7.0   NaN NaN     0.5714     NaN NaN  0.5714  0.7559
530               WOUCUL        ceftazidime     7.0  NaN NaN      7.0   NaN NaN     0.5714     NaN NaN  0.5714  0.7559
559               WOUCUL           timentin     7.0  NaN NaN      7.0   NaN NaN     0.5714     NaN NaN  0.5714  0.7559
525               WOUCUL          augmentin     6.0  NaN NaN      6.0   NaN NaN     0.5000     NaN NaN  0.5000  0.7071
543               WOUCUL     flucloxacillin     NaN  1.0 NaN      NaN   2.0 NaN        NaN  0.5000 NaN  0.5000  0.7071
544               WOUCUL       fusidic acid     NaN  1.0 NaN      NaN   2.0 NaN        NaN  0.5000 NaN  0.5000  0.7071
552               WOUCUL         penicillin     NaN  2.0 NaN      NaN  11.0 NaN        NaN  0.5000 NaN  0.5000  0.7071
524               WOUCUL      amp c markers     3.0  NaN NaN      3.0   NaN NaN     0.3333     NaN NaN  0.3333  0.5774
549               WOUCUL        mls markers     NaN  2.0 NaN      NaN   4.0 NaN        NaN  0.0000 NaN  0.0000  0.0000
542               WOUCUL       esbl markers     3.0  NaN NaN      3.0   NaN NaN     0.0000     NaN NaN  0.0000  0.0000


ASAI (XINCUL)
           specimen_code antimicrobial_name N_GENUS          N_SPECIE          ASAI_SCORE            width   gmean
gram_stain                                        n    p   u        n    p   u          n    p   u
584               XINCUL         gentamicin     4.0  1.0 NaN      4.0  1.0 NaN     0.7500  1.0 NaN  1.7500  0.8660
599               XINCUL         vancomycin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
583               XINCUL       fusidic acid     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
565               XINCUL      amp c markers     1.0  NaN NaN      1.0  NaN NaN     1.0000  NaN NaN  1.0000  1.0000
598               XINCUL       trimethoprim     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
593               XINCUL        teicoplanin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
591               XINCUL         rifampicin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
589               XINCUL          mupirocin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
588               XINCUL        mls markers     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
586               XINCUL          linezolid     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
574               XINCUL    chloramphenicol     NaN  1.0 NaN      NaN  1.0 NaN        NaN  1.0 NaN  1.0000  1.0000
592               XINCUL            tazocin     4.0  NaN NaN      4.0  NaN NaN     0.7500  NaN NaN  0.7500  0.8660
587               XINCUL          meropenem     4.0  NaN NaN      4.0  NaN NaN     0.7500  NaN NaN  0.7500  0.8660
585               XINCUL           imipenem     4.0  NaN NaN      4.0  NaN NaN     0.7500  NaN NaN  0.7500  0.8660
563               XINCUL           amikacin     4.0  NaN NaN      4.0  NaN NaN     0.7500  NaN NaN  0.7500  0.8660
577               XINCUL  colistin sulphate     4.0  NaN NaN      4.0  NaN NaN     0.7500  NaN NaN  0.7500  0.8660
569               XINCUL          cefoxitin     3.0  NaN NaN      3.0  NaN NaN     0.6667  NaN NaN  0.6667  0.8165
578               XINCUL      cotrimoxazole     4.0  NaN NaN      4.0  NaN NaN     0.5000  NaN NaN  0.5000  0.7071
567               XINCUL          aztreonam     2.0  NaN NaN      2.0  NaN NaN     0.5000  NaN NaN  0.5000  0.7071
580               XINCUL       erythromycin     NaN  2.0 NaN      NaN  2.0 NaN        NaN  0.5 NaN  0.5000  0.7071
597               XINCUL         tobramycin     4.0  NaN NaN      4.0  NaN NaN     0.5000  NaN NaN  0.5000  0.7071
576               XINCUL        clindamycin     NaN  2.0 NaN      NaN  2.0 NaN        NaN  0.5 NaN  0.5000  0.7071
595               XINCUL       tetracycline     NaN  2.0 NaN      NaN  2.0 NaN        NaN  0.5 NaN  0.5000  0.7071
590               XINCUL         penicillin     NaN  2.0 NaN      NaN  2.0 NaN        NaN  0.5 NaN  0.5000  0.7071
575               XINCUL      ciprofloxacin     4.0  1.0 NaN      4.0  1.0 NaN     0.2500  0.0 NaN  0.2500  0.0000
571               XINCUL        ceftazidime     4.0  NaN NaN      4.0  NaN NaN     0.2500  NaN NaN  0.2500  0.5000
566               XINCUL          augmentin     3.0  NaN NaN      3.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
596               XINCUL           timentin     4.0  NaN NaN      4.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
594               XINCUL         temocillin     1.0  NaN NaN      1.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
570               XINCUL        cefpodoxime     3.0  NaN NaN      3.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
568               XINCUL         cefotaxime     3.0  NaN NaN      3.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
579               XINCUL          ertapenem     1.0  NaN NaN      1.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
572               XINCUL         cefuroxime     3.0  NaN NaN      3.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
573               XINCUL         cephalexin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  0.0 NaN  0.0000  0.0000
582               XINCUL     flucloxacillin     NaN  1.0 NaN      NaN  1.0 NaN        NaN  0.0 NaN  0.0000  0.0000
564               XINCUL        amoxycillin     3.0  NaN NaN      3.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
581               XINCUL       esbl markers     1.0  NaN NaN      1.0  NaN NaN     0.0000  NaN NaN  0.0000  0.0000
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># Import libraries</span>
 <span class="kn">import</span> <span class="nn">sys</span>
 <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
 <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
 <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
 <span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
 <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

 <span class="c1"># Import specific libraries</span>
 <span class="kn">from</span> <span class="nn">pyamr.core.asai</span> <span class="kn">import</span> <span class="n">ASAI</span>
 <span class="kn">from</span> <span class="nn">pyamr.core.sari</span> <span class="kn">import</span> <span class="n">SARI</span>
 <span class="kn">from</span> <span class="nn">pyamr.core.freq</span> <span class="kn">import</span> <span class="n">Frequency</span>
 <span class="kn">from</span> <span class="nn">pyamr.datasets.load</span> <span class="kn">import</span> <span class="n">make_susceptibility</span>

 <span class="c1"># -------------------------</span>
 <span class="c1"># Configuration</span>
 <span class="c1"># -------------------------</span>
 <span class="c1"># Configure seaborn style (context=talk)</span>
 <span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

 <span class="c1"># Set matplotlib</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.labelsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.labelsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.titlesize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;legend.fontsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>

 <span class="c1"># Pandas configuration</span>
 <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
 <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.width&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
 <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

 <span class="c1"># Numpy configuration</span>
 <span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Load data</span>
 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Load data</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">make_susceptibility</span><span class="p">()</span>

 <span class="c1"># Show</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data:&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Columns:&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Compute SARI</span>
 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Libraries</span>
 <span class="kn">from</span> <span class="nn">pyamr.core.sari</span> <span class="kn">import</span> <span class="n">SARI</span>

 <span class="c1"># Create sari instance</span>
 <span class="n">sari</span> <span class="o">=</span> <span class="n">SARI</span><span class="p">(</span><span class="n">groupby</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;specimen_code&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;microorganism_name&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;antimicrobial_name&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;sensitivity&#39;</span><span class="p">])</span>

 <span class="c1"># Compute SARI overall</span>
 <span class="n">sari_overall</span> <span class="o">=</span> <span class="n">sari</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">data</span><span class="p">,</span>
     <span class="n">return_frequencies</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

 <span class="c1"># Show</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SARI (overall):&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">sari_overall</span><span class="p">)</span>



 <span class="c1"># ------------------------------</span>
 <span class="c1"># Include gram stain</span>
 <span class="c1"># ------------------------------</span>
 <span class="c1"># Libraries</span>
 <span class="kn">from</span> <span class="nn">pyamr.datasets.registries</span> <span class="kn">import</span> <span class="n">MicroorganismRegistry</span>

 <span class="c1"># Load registry</span>
 <span class="n">mreg</span> <span class="o">=</span> <span class="n">MicroorganismRegistry</span><span class="p">()</span>

 <span class="c1"># Format sari dataframe</span>
 <span class="n">dataframe</span> <span class="o">=</span> <span class="n">sari_overall</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
 <span class="n">dataframe</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

 <span class="c1"># Create genus and species</span>
 <span class="n">dataframe</span><span class="p">[[</span><span class="s1">&#39;genus&#39;</span><span class="p">,</span> <span class="s1">&#39;species&#39;</span><span class="p">]]</span> <span class="o">=</span> \
     <span class="n">dataframe</span><span class="o">.</span><span class="n">microorganism_name</span> \
         <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> \
         <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

 <span class="c1"># Combine with registry information</span>
 <span class="n">dataframe</span> <span class="o">=</span> <span class="n">mreg</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">dataframe</span><span class="p">)</span>

 <span class="c1"># Fill missing gram stain</span>
 <span class="n">dataframe</span><span class="o">.</span><span class="n">gram_stain</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">gram_stain</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="p">)</span>


 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Compute ASAI</span>
 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Import specific libraries</span>
 <span class="kn">from</span> <span class="nn">pyamr.core.asai</span> <span class="kn">import</span> <span class="n">ASAI</span>

 <span class="c1"># Create asai instance</span>
 <span class="n">asai</span> <span class="o">=</span> <span class="n">ASAI</span><span class="p">(</span><span class="n">column_genus</span><span class="o">=</span><span class="s1">&#39;genus&#39;</span><span class="p">,</span>
             <span class="n">column_specie</span><span class="o">=</span><span class="s1">&#39;species&#39;</span><span class="p">,</span>
             <span class="n">column_resistance</span><span class="o">=</span><span class="s1">&#39;sari&#39;</span><span class="p">,</span>
             <span class="n">column_frequency</span><span class="o">=</span><span class="s1">&#39;freq&#39;</span><span class="p">)</span>

 <span class="c1"># Compute</span>
 <span class="n">scores</span> <span class="o">=</span> <span class="n">asai</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">dataframe</span><span class="p">,</span>
     <span class="n">groupby</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;specimen_code&#39;</span><span class="p">,</span>
              <span class="s1">&#39;antimicrobial_name&#39;</span><span class="p">,</span>
              <span class="s1">&#39;gram_stain&#39;</span><span class="p">],</span>
     <span class="n">weights</span><span class="o">=</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
     <span class="n">threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
     <span class="n">min_freq</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

 <span class="c1"># Stack</span>
 <span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

 <span class="c1"># .. note: In order to sort the scores we need to compute metrics</span>
 <span class="c1">#          that combine the different subcategories (e.g. gram-negative</span>
 <span class="c1">#          and gram-positive). Two possible options are: (i) use the</span>
 <span class="c1">#          gmean or (ii) the width.</span>
 <span class="c1"># Measures</span>
 <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">scores</span><span class="p">[</span><span class="s1">&#39;ASAI_SCORE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
 <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;gmean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">scores</span><span class="p">[</span><span class="s1">&#39;ASAI_SCORE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

 <span class="c1"># Show</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ASAI (overall):&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>


 <span class="c1"># ------------------------</span>
 <span class="c1"># Methods</span>
 <span class="c1"># ------------------------</span>
 <span class="k">def</span> <span class="nf">scalar_colormap</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">cmap</span><span class="p">,</span> <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">):</span>
     <span class="sd">&quot;&quot;&quot;This method creates a colormap based on values.</span>

<span class="sd">     Parameters</span>
<span class="sd">     ----------</span>
<span class="sd">     values : array-like</span>
<span class="sd">     The values to create the corresponding colors</span>

<span class="sd">     cmap : str</span>
<span class="sd">     The colormap</span>

<span class="sd">     vmin, vmax : float</span>
<span class="sd">     The minimum and maximum possible values</span>

<span class="sd">     Returns</span>
<span class="sd">     -------</span>
<span class="sd">     scalar colormap</span>
<span class="sd">     &quot;&quot;&quot;</span>
     <span class="c1"># Create scalar mappable</span>
     <span class="n">norm</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
     <span class="n">mapper</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">ScalarMappable</span><span class="p">(</span><span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
     <span class="c1"># Gete color map</span>
     <span class="n">colormap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">([</span><span class="n">mapper</span><span class="o">.</span><span class="n">to_rgba</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">values</span><span class="p">])</span>
     <span class="c1"># Return</span>
     <span class="k">return</span> <span class="n">colormap</span>


 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Plot</span>
 <span class="c1"># -------------------------------------------</span>
 <span class="c1"># Reset</span>
 <span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

 <span class="c1"># Count records per specimen</span>
 <span class="n">specimen_count</span> <span class="o">=</span> <span class="n">sari_overall</span> \
  <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;specimen_code&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">freq</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> \
  <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

 <span class="c1"># Show</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cultures:&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">specimen_count</span><span class="p">)</span>

 <span class="c1"># Filter</span>
 <span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span><span class="p">[</span><span class="n">scores</span><span class="o">.</span><span class="n">specimen_code</span>\
     <span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">specimen_count</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">[:</span><span class="mi">5</span><span class="p">])]</span>

 <span class="c1"># Loop</span>
 <span class="k">for</span> <span class="n">specimen</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">scores</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;specimen_code&#39;</span><span class="p">):</span>

     <span class="c1"># Sort</span>
     <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

     <span class="c1"># Show</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">ASAI (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">specimen</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

     <span class="c1"># Variables to plot.</span>
     <span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">antimicrobial_name</span>
     <span class="n">y_n</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ASAI_SCORE&#39;</span><span class="p">][</span><span class="s1">&#39;n&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
     <span class="n">y_p</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ASAI_SCORE&#39;</span><span class="p">][</span><span class="s1">&#39;p&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
     <span class="n">y_u</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ASAI_SCORE&#39;</span><span class="p">][</span><span class="s1">&#39;u&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

     <span class="c1"># Constants</span>
     <span class="n">colormap_p</span> <span class="o">=</span> <span class="n">scalar_colormap</span><span class="p">(</span><span class="n">y_p</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>
     <span class="n">colormap_n</span> <span class="o">=</span> <span class="n">scalar_colormap</span><span class="p">(</span><span class="n">y_n</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>
     <span class="n">colormap_u</span> <span class="o">=</span> <span class="n">scalar_colormap</span><span class="p">(</span><span class="n">y_u</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>

     <span class="c1"># ----------</span>
     <span class="c1"># Example</span>
     <span class="c1"># ----------</span>
     <span class="c1"># This example shows an stacked figure using more than two categories.</span>
     <span class="c1"># For instance, it uses gram-positive, gram-negative and gram-unknown.</span>
     <span class="c1"># All theindexes go within the range [0,1].</span>
     <span class="c1"># Create the figure</span>
     <span class="n">f</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

     <span class="c1"># Plot each category</span>
     <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y_p</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">colormap_p</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span>
       <span class="n">saturation</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Gram-positive&#39;</span><span class="p">)</span>
     <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y_n</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">colormap_n</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span>
       <span class="n">saturation</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Gram-negative&#39;</span><span class="p">)</span>
     <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y_u</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">colormap_u</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span>
       <span class="n">saturation</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Gram-unknown&#39;</span><span class="p">)</span>

     <span class="c1"># Configure</span>
     <span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

     <span class="c1"># Format figure</span>
     <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

     <span class="c1"># Remove yticks</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>

     <span class="c1"># Set title</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gram-positive&#39;</span><span class="p">)</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gram-negative&#39;</span><span class="p">)</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gram-unknown&#39;</span><span class="p">)</span>

     <span class="c1"># Set x-axis</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">])</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">])</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">])</span>

     <span class="c1"># Remove ylabels</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
     <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

     <span class="c1"># Adjust</span>
     <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

 <span class="c1"># Show</span>
 <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  8.904 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-indexes-plot-spectrum-multiple-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/0b11a4d90360221dfa0be7c6f4ad9a42/plot_spectrum_multiple.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_spectrum_multiple.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/68f0e3b3f53cadb988d1ccffa1d4447b/plot_spectrum_multiple.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_spectrum_multiple.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="plot_spectrum_temporal.html" class="btn btn-neutral float-right" title="ASAI - Timeseries" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="plot_spectrum_gramtype.html" class="btn btn-neutral float-left" title="ASAI - Gram stain (by specimen)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Bernard Hernandez.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>