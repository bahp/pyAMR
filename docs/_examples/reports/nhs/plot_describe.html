

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Describe &mdash; pyamr 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="SART - Spectrum (gram type)" href="plot_spectrum_gramtype.html" />
    <link rel="prev" title="SARI - Antibiogram (relmap)" href="plot_antibiogram_relmap.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> pyamr
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/todo.html">Future Actions</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Galleries</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indexes/index.html">Examples with AMR indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../forecasting/index.html">Examples with TSA</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reports</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#mimic-critical-care">MIMIC Critical Care</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#imperial-college-nhs-trust">Imperial College NHS Trust</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plot_antibiogram.html">SARI - Antibiogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_antibiogram_clustermap.html">SARI - Antibiogram (clustered)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_antibiogram_relmap.html">SARI - Antibiogram (relmap)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Describe</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_spectrum_gramtype.html">SART - Spectrum (gram type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_spectrum_multiple.html">SART - Spectrum (multiple)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization/index.html">Visualization</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyamr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Reports</a> &raquo;</li>
        
      <li>Describe</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/_examples/reports/nhs/plot_describe.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-reports-nhs-plot-describe-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="describe">
<span id="sphx-glr-examples-reports-nhs-plot-describe-py"></span><h1>Describe<a class="headerlink" href="#describe" title="Permalink to this headline">Â¶</a></h1>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Total cultures: 864

Specimens (proportions)
URICUL    0.2905
WOUCUL    0.2234
BLDCUL    0.1042
SPTCUL    0.0926
XINCUL    0.0440
URNCUL    0.0370
MRSCUL    0.0243
TIPCUL    0.0197
T&amp;FCUL    0.0197
EYECUL    0.0185
ENTCUL    0.0174
VAGCUL    0.0162
NEOCUL    0.0139
9TIPCS    0.0081
TISCUL    0.0081
MNGCUL    0.0069
BFLCUL    0.0058
LVSCUL    0.0046
GNGCUL    0.0046
9EARCS    0.0035
9THRCS    0.0035
ETTCUL    0.0035
CSFCUL    0.0035
DRFCUL    0.0023
9ETTCS    0.0023
9BWCS     0.0023
9MRSG     0.0023
PSWCUL    0.0023
CROCUL    0.0023
PUSCUL    0.0023
9PENCS    0.0012
FAECUL    0.0012
EARCUL    0.0012
BALCUL    0.0012
9PUSCS    0.0012
SKNCUL    0.0012
9DERCS    0.0012
SEMCUL    0.0012
PDFCUL    0.0012
Name: specimen_code, dtype: float64

Microorganisms (proportions)
SAUR           0.2645
ECOL           0.1868
CNS            0.0835
KPNE           0.0613
PAER           0.0536
                ...
GHAEM          0.0003
CAMPY          0.0003
A_ISOLATED     0.0002
PANA           0.0001
A_MANAEROBE    0.0001
Name: microorganism_code, Length: 63, dtype: float64

Antimicrobials (proportions)
ACIP    0.0751
AGEN    0.0711
ATRI    0.0633
AAUG    0.0442
ATET    0.0394
         ...
AITR    0.0001
ACLZ    0.0001
ADAP    0.0001
ABAC    0.0001
APCZ    0.0001
Name: antimicrobial_code, Length: 67, dtype: float64

Pairs (proportions
microorganism_code  antimicrobial_code
SAUR                AMET                  0.0224
                    ACLI                  0.0212
                    APEN                  0.0212
                    AERY                  0.0212
                    AFUS                  0.0212
                                           ...
EFAS                ACHL                  0.0001
ECLO                AFOS                  0.0001
                    ACZA                  0.0001
EAER                AESBL                 0.0001
VIRST               ATET                  0.0001
Length: 853, dtype: float64


Freqs:
SENSITIVITY        highly resistant  intermediate  not done  resistant  sensitive
SPECIE ANTIBIOTIC
ABAU   AAMI                     0.0           0.0       0.0        4.0        7.0
       AAMO                     0.0           0.0       0.0        7.0        0.0
       AAMPC                    0.0           0.0       0.0        1.0        0.0
       AAUG                     0.0           0.0       0.0        5.0        2.0
       AAZT                     0.0           0.0       0.0        2.0        0.0
...                             ...           ...       ...        ...        ...
VIRST  ACLI                     0.0           0.0       0.0        0.0        1.0
       AERY                     0.0           0.0       0.0        1.0        0.0
       AMLS                     0.0           0.0       0.0        1.0        0.0
       APEN                     0.0           0.0       0.0        0.0        1.0
       ATET                     0.0           0.0       0.0        0.0        1.0

[853 rows x 5 columns]
Count
SPECIE  ANTIBIOTIC
SAUR    AMET          220.0
        ACLI          208.0
        APEN          208.0
        AERY          208.0
        AFUS          208.0
                      ...
EFAS    ACHL            1.0
ECLO    AFOS            1.0
        ACZA            1.0
EAER    AESBL           1.0
VIRST   ATET            1.0
Length: 853, dtype: float64
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># Import libraries</span>
 <span class="kn">import</span> <span class="nn">sys</span>
 <span class="kn">import</span> <span class="nn">glob</span>
 <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
 <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
 <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
 <span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
 <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

 <span class="c1"># Import pyamr</span>
 <span class="kn">from</span> <span class="nn">pyamr.core.freq</span> <span class="kn">import</span> <span class="n">Frequency</span>

 <span class="c1"># Configure seaborn style (context=talk)</span>
 <span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

 <span class="c1"># Set matplotlib</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.labelsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.labelsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.titlesize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>
 <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;legend.fontsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>

 <span class="c1"># Pandas configuration</span>
 <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
 <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.width&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
 <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

 <span class="c1"># Numpy configuration</span>
 <span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

 <span class="c1"># -------------------------</span>
 <span class="c1"># Constants</span>
 <span class="c1"># -------------------------</span>
 <span class="c1"># Replace codes</span>
 <span class="n">replace_codes</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;9MRSN&#39;</span><span class="p">:</span><span class="s1">&#39;MRSCUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;URINE CULTURE&#39;</span><span class="p">:</span> <span class="s1">&#39;URICUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;WOUND CULTURE&#39;</span><span class="p">:</span> <span class="s1">&#39;WOUCUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;BLOOD CULTURE&#39;</span><span class="p">:</span> <span class="s1">&#39;BLDCUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;SPUTUM CULTURE&#39;</span><span class="p">:</span> <span class="s1">&#39;SPTCUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;CSF CULTURE&#39;</span><span class="p">:</span> <span class="s1">&#39;CSFCUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;EYE CULTURE&#39;</span><span class="p">:</span> <span class="s1">&#39;EYECUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;GENITALCUL&#39;</span><span class="p">:</span> <span class="s1">&#39;GENCUL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;NEONATAL SCREEN&#39;</span><span class="p">:</span> <span class="s1">&#39;NEOCUL&#39;</span><span class="p">,</span>
 <span class="p">}</span>

 <span class="c1"># Interesting columns</span>
 <span class="n">usecols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;date_received&#39;</span><span class="p">,</span>
            <span class="s1">&#39;laboratory_number&#39;</span><span class="p">,</span>
            <span class="s1">&#39;patient_id&#39;</span><span class="p">,</span>
            <span class="s1">&#39;specimen_code&#39;</span><span class="p">,</span>
            <span class="s1">&#39;microorganism_code&#39;</span><span class="p">,</span>
            <span class="s1">&#39;antimicrobial_code&#39;</span><span class="p">,</span>
            <span class="s1">&#39;sensitivity&#39;</span><span class="p">]</span>

 <span class="c1"># Path</span>
 <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;../../../pyamr/datasets/microbiology/nhs/aggregated/susceptibility-v0.0.1/&#39;</span>

 <span class="c1"># -------------------------</span>
 <span class="c1"># Main</span>
 <span class="c1"># -------------------------</span>
 <span class="c1"># Load all files</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span>  \
     <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date_received&#39;</span><span class="p">],</span>
         <span class="n">usecols</span><span class="o">=</span><span class="n">usecols</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
             <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;/susceptibility-*.csv&quot;</span><span class="p">)])</span>

 <span class="c1"># Replace</span>
 <span class="n">data</span><span class="o">.</span><span class="n">specimen_code</span> <span class="o">=</span> \
     <span class="n">data</span><span class="o">.</span><span class="n">specimen_code</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replace_codes</span><span class="p">)</span>

 <span class="c1"># Drop duplicates</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

 <span class="c1"># The total number of cultures</span>
 <span class="n">ncultures</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">laboratory_number</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>

 <span class="c1"># The percentage of each specimen</span>
 <span class="n">pspecimens</span> <span class="o">=</span> <span class="n">data</span> \
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;laboratory_number&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> \
     <span class="o">.</span><span class="n">specimen_code</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

 <span class="c1"># The percentages of each organism</span>
 <span class="n">pmicroorganisms</span> <span class="o">=</span> <span class="n">data</span> \
     <span class="o">.</span><span class="n">microorganism_code</span> \
     <span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

 <span class="c1"># The percentages of each antimicrobial</span>
 <span class="n">pantimicrobials</span> <span class="o">=</span> <span class="n">data</span> \
     <span class="o">.</span><span class="n">antimicrobial_code</span> \
     <span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

 <span class="c1"># The percentages of (orgnaism, antimicrobial) pairs</span>
 <span class="n">ppairs</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;microorganism_code&#39;</span><span class="p">,</span> <span class="s1">&#39;antimicrobial_code&#39;</span><span class="p">]]</span>
 <span class="n">ppairs</span> <span class="o">=</span> <span class="n">ppairs</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

 <span class="c1"># Show</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total cultures: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ncultures</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Specimens (proportions)&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">pspecimens</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Microorganisms (proportions)&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">pmicroorganisms</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Antimicrobials (proportions)&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">pantimicrobials</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Pairs (proportions&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">ppairs</span><span class="p">)</span>

 <span class="c1"># --------------------</span>
 <span class="c1"># Compute Frequencies</span>
 <span class="c1"># --------------------</span>
 <span class="c1"># Create instance</span>
 <span class="n">freq</span> <span class="o">=</span> <span class="n">Frequency</span><span class="p">(</span><span class="n">column_antibiotic</span><span class="o">=</span><span class="s1">&#39;antimicrobial_code&#39;</span><span class="p">,</span>
                  <span class="n">column_organism</span><span class="o">=</span><span class="s1">&#39;microorganism_code&#39;</span><span class="p">,</span>
                  <span class="n">column_date</span><span class="o">=</span><span class="s1">&#39;date_received&#39;</span><span class="p">,</span>
                  <span class="n">column_outcome</span><span class="o">=</span><span class="s1">&#39;sensitivity&#39;</span><span class="p">)</span>

 <span class="c1"># Compute frequencies overall</span>
 <span class="n">freq_pairs</span> <span class="o">=</span> <span class="n">freq</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;overall&#39;</span><span class="p">,</span>
                                 <span class="n">by_category</span><span class="o">=</span><span class="s1">&#39;pairs&#39;</span><span class="p">)</span>

 <span class="n">freq_orgs</span> <span class="o">=</span> <span class="n">freq</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;overall&#39;</span><span class="p">,</span>
                                <span class="n">by_category</span><span class="o">=</span><span class="s1">&#39;organisms&#39;</span><span class="p">)</span>

 <span class="n">freq_abxs</span> <span class="o">=</span> <span class="n">freq</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;overall&#39;</span><span class="p">,</span>
                                <span class="n">by_category</span><span class="o">=</span><span class="s1">&#39;organisms&#39;</span><span class="p">)</span>

 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Freqs:&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">freq_pairs</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">freq_pairs</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.146 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-reports-nhs-plot-describe-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/16f7a724944f054b9cbe2d1ef428bc9c/plot_describe.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_describe.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/8eed860d3f8fb2b97b695b79965fab74/plot_describe.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_describe.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="plot_spectrum_gramtype.html" class="btn btn-neutral float-right" title="SART - Spectrum (gram type)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="plot_antibiogram_relmap.html" class="btn btn-neutral float-left" title="SARI - Antibiogram (relmap)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Bernard Hernandez.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>